<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="../assets/icon/favicon2.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cheese Tech | Tempo Real</title>

    <link rel="stylesheet" href="../styles/cards.css">
    <link rel="icon" href="./assets/img/logo2.png">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <script src="../js/funcoes.js"></script>
    <script src="./alerta.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
</head>

<!-- <body onload="validarSessao(), atualizacaoPeriodica()"> -->

<body onload="cards()">
    <div class="header-left dash-header">

        <h1>CheeseTech</h1>

        <img src="../assets/img/logo2.png" width="150px" height="150px">

        <div class="hello">
            <h3>Olá, <span id="b_usuario">usuário</span>!</h3>
        </div>

        <div class="btn-nav">
            <h3>Monitoramento</h3>
        </div>

        <div class="btn-nav-white">
            <a href="./dashboard.html">
                <h3>Gráficos</h3>
            </a>
        </div>

        <div class="btn-nav-white">
            <a
                href="https://www.freshworks.com/br/freshdesk/lp/software-de-suporte-ao-cliente-bex/?tactic_id=4669356&utm_source=google-adwords&utm_medium=FD-Search-Brand%2BRLSA-L-LATAM-Brazil&utm_campaign=FD-Search-Brand%2BRLSA-L-LATAM-Brazil&utm_term=freshdesk&device=c&matchtype=e&network=g&gclid=EAIaIQobChMI_ZrDo96a_wIVVzHUAR3aegIlEAAYASAAEgI9ZvD_BwE&audience=aud-905445470605%3Akwd-30002131023&ad_id=540088767090">
                <h3>Suporte</h3>
            </a>
        </div>

        <div class="btn-logout">
            <a href="./index.html">
                <h3>Sair</h3>
            </a>
        </div>
    </div>
    <div class="dash">
        <div id="alerta"></div>
        <div class="regua">
            <div class="item-regua perigo-frio">
                <h4>Crítico</h4>
                <h2>4°C</h2>
                <h2>78%</h2>
            </div>
            <div class="item-regua alerta-frio">
                <h4>Emergência</h4>
                <h2>6°C</h2>
                <h2>79%</h2>
            </div>
            <div class="item-regua ideal">
                <h4>Ideal</h4>
                <h2>7/8°C</h2>
                <h2>83%/84%</h2>
            </div>
            <div class="item-regua alerta-quente">
                <h4>Emergência</h4>
                <h2>9°C</h2>
                <h2>85%</h2>
            </div>
            <div class="item-regua perigo-quente">
                <h4>Crítico</h4>
                <h2>10°C</h2>
                <h2>87%</h2>
            </div>
        </div>
        <div class="cards">
            <div class="card">
                <h1>Média geral da temperatura:<p id="temperatura_geralN">10.5°C</p>
                </h1>
                <div class="temperatura">
                    <p id="temperatura_geral">Alerta câmara 2</p>
                </div>
                <div class="cor-alerta" id="card_1"></div>
            </div>
            <div class="card-umidade">
                <h1>Média geral da umidade:<p id="umidade_geralN">83%</p>
                </h1>
                <div class="temperatura">
                    <p id="umidade_geral">Nenhum problema</p>
                </div>
                <div class="cor-alerta" id="card_2"></div>
            </div>
        </div>
    </div>

</body>
<script>
    window.onload = cards()
   
    function cards() {
        var UMedCard = localStorage.getItem("umidadeMedia")
        var TempMedCard = localStorage.getItem("temperaturaMedia")
        var temperaturaCard = localStorage.getItem("temperaturaCard1")
        var umidadeCard = localStorage.getItem("umidadeCard1")


        var camara = 1 

        if (temperaturaCard >= 7 && temperaturaCard <= 8) {
            temperatura_geral.innerHTML = `<p style = 'color: green;'>Nenhum problema</p>`
            temperatura_geralN.innerHTML = `<p style = 'color: green;'>${TempMedCard}°C</p>`
        } else {
            
            if (temperaturaCard <= 4) {
                temperatura_geral.innerHTML = `<p style = 'color: darkblue;'>Alerta câmara ${camara}</p>`
                temperatura_geralN.innerHTML = `<p style = 'color: darkblue;'>${TempMedCard}°C</p>`
            }

            if (temperaturaCard > 4 && temperaturaCard <= 6) {
                temperatura_geral.innerHTML = `<p style = 'color: blue;'>Alerta câmara ${camara}</p>`
                temperatura_geralN.innerHTML = `<p style = 'color: blue;'>${TempMedCard}°C</p>`
            }

            if (temperaturaCard > 8 && temperaturaCard <= 9) {
                temperatura_geral.innerHTML = `<p style = 'color: yellow;'>Alerta câmara ${camara}</p>`
                temperatura_geralN.innerHTML = `<p style = 'color: yellow;'>${TempMedCard}°C</p>`
            }

            if (temperaturaCard > 9 ) {
                temperatura_geral.innerHTML = `<p style = 'color: red;'>Alerta câmara ${camara}</p>`
                temperatura_geralN.innerHTML = `<p style = 'color: red;'>${TempMedCard}°C</p>`
            }
        }

        if (umidadeCard >= 83 && umidadeCard <= 84) {
            umidade_geral.innerHTML = `<p style = 'color: green;'>Nenhum problema</p>`
            umidade_geralN.innerHTML = `<p style = 'color: green;'>${UMedCard}%</p>`
        } else {
            
            if (umidadeCard <= 78) {
                umidade_geral.innerHTML = `<p style = 'color: darkblue;'>Alerta câmara ${camara}</p>`
                umidade_geralN.innerHTML = `<p style = 'color: darkblue;'>${UMedCard}%</p>`
            }

            if (umidadeCard > 78 && umidadeCard <= 79) {
                umidade_geral.innerHTML = `<p style = 'color: blue;'>Alerta câmara ${camara}</p>`
                umidade_geralN.innerHTML = `<p style = 'color: blue;'>${UMedCard}%</p>`
            }

            if (umidadeCard > 84 && umidadeCard <= 85) {
                umidade_geral.innerHTML = `<p style = 'color: yellow;'>Alerta câmara ${camara}</p>`
                umidade_geralN.innerHTML = `<p style = 'color: yellow;'>${UMedCard}%</p>`
            }

            if (umidadeCard > 85 ) {
                umidade_geral.innerHTML = `<p style = 'color: red;'>Alerta câmara ${camara}</p>`
                umidade_geralN.innerHTML = `<p style = 'color: red;'>${UMedCard.tofixed}%</p>`
            }
        }
    }
    setInterval(function(){ 
        cards()
  }, 2000);
</script>
</html>